<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8"/>
    <head th:replace="partials/partials.html :: header">
    <title>All Posts</title>
</head>
<body>
<div th:replace="partials/partials.html :: navbar"></div>

    <div class="post" th:each="post: ${posts}">
        <h2 th:text="${post.getTitle()}"></h2>
        <p th:text="${post.getBody()}"></p>
        <p th:text="${post.user.email}"></p>
        <form th:action="@{/posts/{id}/delete(id = ${post.id})}" method="post" th:object="${post}">
            <button class="btn-link btn" type="submit" th:value="*{id}" name="deletePost">Delete</button>
        </form>
        <form th:action="@{/posts/{id}/edit(id = ${post.id})}" method="get" th:object="${post}">
            <button class="btn-link btn" type="submit" th:value="*{id}" name="editPost">Edit</button>
        </form>
    </div>


<div th:replace="partials/partials.html :: footer"></div>
</body>
</html>